# Backend environment — copy to .env and fill in values.
# Do not commit .env (secrets).

NODE_ENV=production
BACKEND_PORT=3000
API_URL=
WEBAPP_URL=
CORS_ORIGIN=

DB_HOST=
DB_PORT=5432
DB_USER=
DB_PASSWORD=
DB_NAME=

REDIS_HOST=
REDIS_PORT=6379

TELEGRAM_BOT_TOKEN=
MANAGER_GROUP_CHAT_ID=
ORDERS_GROUP_CHAT_ID=
ORDERS_THREAD_ID=
SUPPORT_GROUP_CHAT_ID=
SUPPORT_LOG_THREAD_ID=
SUPPORT_TIME_ZONE=Europe/Moscow

# Floria API (catalog)
FLORIA_API_BASE_URL=
FLORIA_API_TOKEN=
# Таймаут запросов к Floria (мс). По умолчанию 15000. При частых таймаутах на слабом сервере можно увеличить до 20000.
FLORIA_REQUEST_TIMEOUT_MS=15000
# Cron для синхронизации каталога в БД (по умолчанию :00, :20, :40 каждый час). При старте контейнера каталог загружается в БД.
FLORIA_SYNC_CRON=0,20,40 * * * *
# Загружать каталог при старте backend (true по умолчанию).
FLORIA_SYNC_ON_STARTUP=true

# Posiflora API
POSIFLORA_ENABLED=
POSIFLORA_API_URL=
POSIFLORA_USERNAME=
POSIFLORA_PASSWORD=
POSIFLORA_STORE_ID=
POSIFLORA_ORDER_SOURCE_ID=
POSIFLORA_CUSTOMER_SOURCE_ID=
POSIFLORA_CREATED_BY_WORKER_ID=
POSIFLORA_ORDER_CREATE_MODE=
POSIFLORA_SHOWCASE_BOUQUET_ITEM_ID=
POSIFLORA_DEFAULT_COUNTRY_CODE=7
POSIFLORA_DELIVERY_TIME_WINDOW_MINUTES=60
# Таймаут запросов к Posiflora (мс). По умолчанию 15000. При частых таймаутах можно увеличить до 20000.
POSIFLORA_REQUEST_TIMEOUT_MS=15000
POSIFLORA_SYNC_ENABLED=
# Cron для синхронизации клиентов из Posiflora (по умолчанию :10, :30, :50 каждый час — смещено относительно Floria).
POSIFLORA_SYNC_CRON=10,30,50 * * * *
POSIFLORA_SYNC_ON_STARTUP=
POSIFLORA_CATALOG_PAGE_SIZE=50
POSIFLORA_INCLUDE_ITEM_DETAILS=
POSIFLORA_CUSTOMERS_SYNC_ENABLED=
POSIFLORA_CUSTOMERS_PAGE_SIZE=50

RUN_MIGRATIONS=
